{"version":3,"sources":["API/api.js","BLL/reducers/sidebarReducer.js","BLL/reducers/appReducer.js","BLL/redux-store.js","components/Navbar/Navbar.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.js","BLL/Selectors/appSelectors.js","App.js","serviceWorker.js","index.js","BLL/reducers/authReducer.js","common/loader/loader.js","components/Header/Header.module.css","BLL/reducers/profileReducer.js","BLL/reducers/dialogReducer.js","components/Navbar/Navbar.module.css","Utils/Helpers/user-reducer-helpers.js","BLL/reducers/usersReducer.js","components/Navbar/Friends/Friends.module.css","Images/loader.gif"],"names":["axiosInstance","axios","baseURL","withCredentials","headers","baseApiController","users","getUsers","currentPage","usersOnPage","get","then","responce","data","getProfile","profileId","getProfileStatus","setFollow","userId","post","setUnfollow","delete","putStatus","status","put","auth","getMe","login","email","password","rememberMe","captcha","logout","initData","friends","id","name","sidebarReducer","state","initialized","appReducer","action","type","reducers","combineReducers","profilePage","profileReducer","dialogPage","dialogReducer","sideBar","usersPage","usersReducer","authReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMidleware","React","Navbar","className","s","nav","item","active","to","activeClassName","friendsImg","connect","header","onClick","getAppInitialize","createSelector","init","Dialogs","lazy","ProfileContainer","UsersContainer","Login","AppContainer","withRouter","InitializeApp","dispatch","a","getUserAuth","props","useEffect","fallback","path","render","AppMain","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","SET_USER_AUTH","isAuth","setUserAuth","resultCode","messages","length","act","stopSubmit","_error","Loader","src","loadGif","module","exports","ADD_POST","SET_PROFILE_STATE","posts","profile","addPost","newPost","setProfileState","selectUserProfile","updateProfileStatus","newStatus","likeCount","postNewMessage","ADD_MESSAGE","dialogs","addMessage","newMessage","ArrayObjectsRewrite","objectArray","searchPropName","searchPropValue","newObject","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_TOTAL_COUNT","TOGGLE_FETCHING","SET_USER_FETCH","totalCount","isFetching","fetchUsers","follow","unfollow","setUsers","setTotalCount","count","setUserFetch","fetching","followSuccess","result","followed","filter","el","unfollowSuccess"],"mappings":"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","file":"static/js/main.096129ae.chunk.js","sourcesContent":["import * as axios from \"axios\";\nconst BASE_URL=`https://social-network.samuraijs.com/api/1.0/`;\nconst API_KEY='65dd1f2b-5347-4797-9ae3-ccd87f6fa1d7';\n\nconst axiosInstance=axios.create({\n    baseURL:BASE_URL,\n    withCredentials:true,\n    headers:{\n        'API-KEY':API_KEY\n    }\n});\n\nconst baseApiController={\n    users: {\n        getUsers: (currentPage, usersOnPage) => axiosInstance.get(`users?page=${currentPage}&count=${usersOnPage}`).then(responce => responce.data),\n        getProfile: (profileId) => axiosInstance.get(`profile/${profileId}`).then(responce => responce.data),\n        getProfileStatus: (profileId) => axiosInstance.get(`profile/status/${profileId}`).then(responce => responce.data),\n        setFollow: (userId) => axiosInstance.post(`follow/${userId}`).then(responce => responce.data),\n        setUnfollow: (userId) => axiosInstance.delete(`follow/${userId}`).then(responce => responce.data),\n        putStatus: (status)=>axiosInstance.put(`profile/status`,{status}).then(responce => responce.data),\n    },\n    auth:{\n        getMe:()=> axiosInstance.get('auth/me').then(responce=>responce.data),\n        login:(email,password,rememberMe,captcha)=>axiosInstance.post('auth/login',{email,password,rememberMe,captcha}).then(responce=>responce.data),\n        logout:()=>axiosInstance.delete('auth/login').then(responce=>responce.data)\n    }\n}\n\nexport default baseApiController;\n\n","\nlet initData={\n    friends:[\n        {\n            id:'1',\n            name:'Ivan'\n        },\n        {\n            id:'2',\n            name:'Andry'\n        },\n        {\n            id:'3',\n            name:'John'\n        },\n\n    ]\n}\n\nconst sidebarReducer=(state=initData,action)=>{\n    return state;\n}\n\nexport default sidebarReducer;","import {getUserAuth} from \"./authReducer\";\r\nconst INITIALIZED_SUCCESS=\"reducers/app/INITIALIZED_SUCCESS\";\r\n\r\nlet initData={\r\n    initialized:false\r\n}\r\n\r\nconst appReducer=(state=initData,action)=>{\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized:true,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nconst setInitialized=()=>({type:INITIALIZED_SUCCESS});\r\n\r\n\r\nexport const InitializeApp=()=>async (dispatch)=>{\r\n        await dispatch(getUserAuth());\r\n        await dispatch(setInitialized());\r\n\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./reducers/profileReducer\";\r\nimport dialogReducer from \"./reducers/dialogReducer\";\r\nimport sidebarReducer from \"./reducers/sidebarReducer\";\r\nimport * as React from \"react\";\r\nimport usersReducer from \"./reducers/usersReducer\";\r\nimport authReducer from \"./reducers/authReducer\";\r\nimport thunkMidleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./reducers/appReducer\";\r\n\r\nlet reducers=combineReducers({\r\n    profilePage:profileReducer,\r\n    dialogPage:dialogReducer,\r\n    sideBar:sidebarReducer,\r\n    usersPage:usersReducer,\r\n    auth:authReducer,\r\n    form: formReducer,\r\n    app:appReducer\r\n\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(\r\n    applyMiddleware(thunkMidleware)\r\n    ));\r\n//let store=createStore(reducers,applyMiddleware(thunkMidleware));\r\nwindow.state=store;\r\nexport let StoreContext=React.createContext(null);\r\n\r\nexport default store;","import React from \"react\";\nimport s from \"./Navbar.module.css\"\nimport {NavLink} from \"react-router-dom\";\nimport Friend from \"./Friends/Friends\";\nimport {StoreContext} from \"../../BLL/redux-store\";\nimport {connect} from \"react-redux\";\n\nconst Navbar=()=>{\n    return  <nav className={s.nav}>\n\n                    <div className={`${s.item} ${s.active}`}>\n                        <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\n                    </div>\n\n                    <div className={s.item}>\n                        <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\n                    </div>\n\n                    <div className={s.item}> <a>News</a></div>\n\n                    <div className={s.item}> <a>Music</a></div>\n\n                    <div className={s.item}>\n                        <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\n                    </div>\n\n                    <div className={s.item}><a>Settings</a></div>\n\n                    <div className={s.friends}>\n                        <span>Friends</span>\n                        <div className={s.friendsImg}>\n                            {/*{state.sideBar.friends.map((el)=><Friend id={el.id} name={el.name}/>)}*/}\n                        </div>\n                    </div>\n                </nav>\n\n}\n\nexport default Navbar;","import React from \"react\";\nimport s from \"./Header.module.css\"\nimport {NavLink} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../BLL/reducers/authReducer\";\n\n\n\nconst Header=({id,login,logout})=>{\n\n    return  <header className={s.header}>\n        <img/>\n        <div className={s.auth}>\n            {id===null ?\n                <NavLink to={\"/login\"}>Login</NavLink>:\n                <div><span>{login}</span><div>\n                    <button onClick={logout}>Logout</button>\n                </div></div>}\n        </div>\n    </header>\n}\n\nexport default connect(null,{logout})(Header);","import React from \"react\"\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {getUserAuth, setUserAuth} from \"../../BLL/reducers/authReducer\";\n\nconst HeaderContainer=({id,login,email})=>{\n    return <Header id={id} login={login} email={email}/>\n}\n\nconst mapStateToProps=(state)=>{\n    return {\n        id:state.auth.id,\n        login:state.auth.login,\n        email:state.auth.email\n    }\n}\n\nexport default connect(mapStateToProps)(HeaderContainer)","import {createSelector} from 'reselect'\r\n\r\n//Simple selectors\r\nconst getAppInitializeSimple=state=>{\r\n    return state.app.initialized;\r\n};\r\n\r\n\r\n//export selectors\r\nexport const  getAppInitialize=createSelector(getAppInitializeSimple,init=>init);","import React, {Component, Suspense, useEffect} from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar.jsx\";\r\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Loader from \"./common/loader/loader\";\r\nimport {compose} from \"redux\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {InitializeApp} from \"./BLL/reducers/appReducer\";\r\nimport {getAppInitialize} from \"./BLL/Selectors/appSelectors\";\r\nimport store from \"./BLL/redux-store\";\r\n\r\n\r\nconst Dialogs=React.lazy(()=>import(\"./components/Dialogs/Dialogs\"));\r\nconst ProfileContainer=React.lazy(()=>import(\"./components/Profile/ProfileContainer\"));\r\nconst UsersContainer=React.lazy(()=>import(\"./components/Users/UsersContainer\"));\r\nconst Login=React.lazy(()=>import(\"./components/Login/Login\"));\r\n\r\nconst App=(props)=>{\r\n    useEffect(()=>{\r\n        props.InitializeApp();\r\n    },[]);\r\n    if(!props.initialized){\r\n        return <Loader/>\r\n    }\r\n    return (\r\n        <div className={'app-wrapper'}>\r\n            <div className={\"app-header\"}>\r\n                <HeaderContainer/>\r\n            </div>\r\n            <div className={'app-menu-left'}>\r\n                <Navbar/>\r\n            </div>\r\n            <div className=\"app-wrapper-content\">\r\n                <Suspense fallback={<Loader/>}>\r\n                    <Route path=\"/dialogs\" render={() => <Dialogs/>}/>\r\n                    <Route path='/profile/:profileId?' render={() => <ProfileContainer/>}/>\r\n                    <Route path='/users' render={() => <UsersContainer/>}/>\r\n                    <Route path='/login' render={() => <Login/>}/>\r\n                </Suspense>\r\n            </div>\r\n            <div className={'app-footer'}>\r\n                <div className={'center'}></div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n    return {\r\n        initialized:getAppInitialize(state)\r\n    };\r\n}\r\n\r\nconst AppContainer=compose(\r\n    withRouter,\r\n    connect(mapStateToProps,{InitializeApp})\r\n)(App);\r\n\r\nconst AppMain=(props)=>{\r\n    return <BrowserRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </BrowserRouter>\r\n}\r\n\r\nexport default AppMain;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","\nimport ReactDOM from \"react-dom\";\n\nimport AppMain from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport React from \"react\";\n\n\n\n ReactDOM.render(\n     <AppMain/>\n     , document.getElementById('root'));\n\n\n serviceWorker.unregister();\n\n\n\n\n","import baseApiController from \"../../API/api\";\r\nimport {stopSubmit} from \"redux-form\"\r\n\r\nconst SET_USER_AUTH = \"reducers/auth/SET-USER-AUTH\";\r\n\r\nlet initData = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initData, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_AUTH:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nconst setUserAuth = (id, login, isAuth) => ({type: SET_USER_AUTH, data: {id, login, isAuth}});\r\n\r\nexport const getUserAuth = () => async (dispatch) => {\r\n    const data = await baseApiController.auth.getMe();\r\n    if (data.resultCode === 0) {\r\n        let {id, login} = data.data;\r\n        dispatch(setUserAuth(id, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (login, password, rememberMe) => async (dispatch) => {\r\n    const data = await baseApiController.auth.login(login, password, rememberMe, false);\r\n    if (data.resultCode === 0) {\r\n        dispatch(setUserAuth(data.data.userId, login, true));\r\n    } else {\r\n        let message = data.messages.length > 0 ? data.messages[0] : \"Ошибка входа\";\r\n        let act = stopSubmit(\"loginForm\", {_error: message});\r\n        dispatch(act);\r\n    }\r\n\r\n\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const data = await baseApiController.auth.logout()\r\n    if (data.resultCode === 0) {\r\n        dispatch(setUserAuth(null, null, null));\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","import React from \"react\";\nimport loadGif from \"../../Images/loader.gif\"\n\nlet Loader=()=>{\n    return <div>\n        <img src={loadGif}/>\n    </div>\n}\n\nexport default Loader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__gguJ2\",\"auth\":\"Header_auth__9IKsk\"};","import baseApiController from \"../../API/api\";\r\n\r\nconst ADD_POST = \"reducers/profile/ADD-POST\";\r\nconst SELECT_USER_PROFILE = \"reducers/profile/SELECT-USER-PROFILE\";\r\nconst SET_PROFILE_STATE = \"reducers/profile/SET_PROFILE_STATE\";\r\n\r\nlet initData = {\r\n    posts: [],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initData, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {\r\n                    message: action.newPost,\r\n                    id: '99',\r\n                    likeCount: '0'\r\n                }],\r\n                postNewMessage: ''\r\n            };\r\n\r\n        case SELECT_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SET_PROFILE_STATE:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPost = (newPost) => ({type: ADD_POST, newPost});\r\n\r\nconst selectProfile = (profile) => ({type: SELECT_USER_PROFILE, profile});\r\n\r\nconst setProfileState = (status) => ({type: SET_PROFILE_STATE, status});\r\n\r\n\r\nexport const selectUserProfile = (profileId) => async (dispatch) => {\r\n    if(profileId){\r\n        const data = await baseApiController.users.getProfile(profileId);\r\n        dispatch(selectProfile(data));\r\n    }\r\n}\r\n\r\nexport const getProfileStatus = (profileId) => async dispatch => {\r\n    if(profileId){\r\n        const data = await baseApiController.users.getProfileStatus(profileId);\r\n        dispatch(setProfileState(data));\r\n    }\r\n}\r\n\r\nexport const updateProfileStatus = (newStatus) => async (dispatch) => {\r\n    const data = await baseApiController.users.putStatus(newStatus);\r\n    if (data.resultCode === 0) {\r\n        dispatch(setProfileState(newStatus));\r\n    }\r\n}\r\n\r\nexport default profileReducer;","const ADD_MESSAGE='reducers/dialog/ADD-MESSAGE';\r\n\r\nlet initData={\r\n    dialogs:[],\r\n    messages:[]\r\n}\r\n\r\nconst dialogReducer=(state=initData,action)=>{\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages,{id:'99',\r\n                    message:action.newMessage\r\n                }]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessage=(newMessage)=>({type:ADD_MESSAGE,newMessage});\r\n\r\nexport default dialogReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Navbar_item__kUYEk\",\"active\":\"Navbar_active__C8y23\"};","export const ArrayObjectsRewrite= (objectArray,searchPropName,searchPropValue, newObject )=>{\n    return objectArray.map(u=>{\n        if(u[searchPropName]===searchPropValue){\n            return {...u,...newObject};\n        }\n        return u;\n    });\n};","import React from \"react\";\nimport baseApiController from \"../../API/api\";\nimport {ArrayObjectsRewrite} from \"../../Utils/Helpers/user-reducer-helpers\";\n\n\nconst FOLLOW = 'reducers/users/FOLLOW';\nconst UNFOLLOW = 'reducers/users/UNFOLLOW';\nconst SET_USERS = 'reducers/users/SET-USERS';\nconst SET_CURRENT_PAGE = 'reducers/users/SET-CURRENT-PAGE';\nconst SET_TOTAL_COUNT = 'reducers/users/SET_TOTAL_COUNT';\nconst TOGGLE_FETCHING = 'reducers/users/TOGGLE_FETCHING';\nconst SET_USER_FETCH = 'reducers/users/SET_USER_FETCH';\n\n\nlet initData = {\n    users: [],\n    currentPage: 1,\n    totalCount: 0,\n    usersOnPage: 5,\n    isFetching: false,\n    fetchUsers: []\n}\n\nconst usersReducer = (state = initData, action) => {\n\n    switch (action.type) {\n\n        case FOLLOW: {\n\n            let result = {\n                ...state,\n                users: ArrayObjectsRewrite(state.users,'id',action.userId,{followed: true})\n            };\n            return result;\n        }\n        case UNFOLLOW: {\n            let result = {\n                ...state,\n                users:ArrayObjectsRewrite(state.users,'id',action.userId,{followed: false})\n            };\n            return result;\n        }\n        case SET_USERS: {\n            return {\n                ...state,\n                users: [...action.users]\n            }\n        }\n        case SET_CURRENT_PAGE: {\n            return {\n                ...state,\n                currentPage: action.currentPage\n            }\n        }\n        case SET_TOTAL_COUNT: {\n            return {\n                ...state,\n                totalCount: action.count\n            }\n        }\n        case TOGGLE_FETCHING: {\n            return {\n                ...state,\n                isFetching: action.isFetching\n            }\n        }\n        case SET_USER_FETCH: {\n            return {\n                ...state,\n                fetchUsers: action.fetching ? [...state.fetchUsers, action.userId] :\n                    state.fetchUsers.filter(el => el !== action.userId)\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nconst follow = (userId) => {\n    return {type: FOLLOW, userId}\n}\n\n\nconst unfollow = (userId) => {\n    return {type: UNFOLLOW, userId}\n}\n\nexport const setUsers = (users) => {\n    return {type: SET_USERS, users}\n}\n\nexport const setTotalCount = (count) => {\n    return {type: SET_TOTAL_COUNT, count}\n}\n\nexport const setCurrentPage = (currentPage) => {\n    return {type: SET_CURRENT_PAGE, currentPage}\n}\n\nexport const toggleFetching = (isFetching) => {\n    return {type: TOGGLE_FETCHING, isFetching}\n}\n\nexport const setUserFetch = (fetching, userId) => ({type: SET_USER_FETCH, fetching, userId});\n\nexport default usersReducer;\n\nexport const followSuccess = (userId) => async dispatch => {\n    dispatch(setUserFetch(true, userId));\n    const data = await baseApiController.users.setFollow(userId);\n    if (data.resultCode === 0) {\n        dispatch(follow(userId));\n    }\n    dispatch(setUserFetch(false, userId));\n}\n\nexport const unfollowSuccess = (userId) => async (dispatch) => {\n    dispatch(setUserFetch(true, userId));\n    const data = await baseApiController.users.setUnfollow(userId)\n    if (data.resultCode === 0) {\n        dispatch(unfollow(userId));\n    }\n    dispatch(setUserFetch(false, userId));\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Friends_nav__h2g2T\",\"item\":\"Friends_item__1ko0m\",\"active\":\"Friends_active__U3oQi\"};","module.exports = __webpack_public_path__ + \"static/media/loader.4c140210.gif\";"],"sourceRoot":""}